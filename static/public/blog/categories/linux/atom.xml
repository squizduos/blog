<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">

  <title><![CDATA[Category: linux | Squizduos SlowBlog]]></title>
  <link href="http://squizduos.me/blog/categories/linux/atom.xml" rel="self"/>
  <link href="http://squizduos.me/"/>
  <updated>2015-11-27T08:19:57+03:00</updated>
  <id>http://squizduos.me/</id>
  <author>
    <name><![CDATA[Semyon Bochkaryov]]></name>
    
  </author>
  <generator uri="http://octopress.org/">Octopress</generator>

  
  <entry>
    <title type="html"><![CDATA[Octopress: как вести блог в стиле Unix-way]]></title>
    <link href="http://squizduos.me/posts/octopress-for-you/"/>
    <updated>2015-06-29T20:29:04+03:00</updated>
    <id>http://squizduos.me/posts/octopress-for-you</id>
    <content type="html"><![CDATA[<p>А вы когда-нибудь задумывались, как ведут свои блоги настоящие хакеры? Хакеры, которые живут в консоли, сидят в берлогах и ломают Пентагон? Я вот не знаю, но предполагаю - они и блоги ведут из консоли, создают пост одной консольной командой, а загружают его на сервера Пентагона другой. И если вы вдруг подумали, что такого не существует, а я брежу, то глубоко ошибаетесь - где-то с 2012 года невероятную популярность приобрел Octopress - истинный Unix-way в мире блогов.</p>

<p>Почему я так думаю? А подумайте сами: Octopress - это генератор статических сайтов, построенный на фреймворке Jerkyll для языка Ruby, использующий Markdown для написания постов и GitHub Pages для их размещения. Если вы не поняли из перечисленного выше ни слова: поздравляю, вы нормальный человек, можете закрыть пост. Для остальных же: прежде всего, это средство создания полнофункциональных статических сайтов, которые могут быть размещены где угодно - хоть на Narod.ru, хоть на Dropbox, хоть на своем сервере.</p>

<!-- more -->


<h2>Установка</h2>

<p><strong>Внимание:</strong> Octopress, как и полагается хорошему софту, кросплатформеннен. Однако, устанавливать его под Windows категорически не рекомендуется: во-первых, виндовая консоль в принципе плохо дружит с UTF-8, во-вторых, проблемы могут вылезти в самом неожиданном месте. Если вы используете Windows - рекомендую установить любую виртуальную машину с OC Linux и работать с блогом из-под неё. Если вы используете Linux или Mac OS X, порядок действий следующий:</p>

<ol>
<li>Устанавливаем необходимые для работы зависимости. В Mac OS X все зависимости установлены по умолчанию, для Linux, вероятно, их потребуется установить следующей командой

<blockquote><p>sudo apt-get install ruby ruby-dev gcc make git</p></blockquote></li>
<li>Скачиваем и распаковываем сам блог:

<blockquote><p>git clone git://github.com/imathis/octopress.git octopress
cd octopress/</p></blockquote></li>
<li>Устанавливаем зависимости. Потребуются права рута:

<blockquote><p>gem install bundler
bundle install</p></blockquote></li>
<li>Устанавливаем стандартную тему:

<blockquote><p>rake install</p></blockquote></li>
</ol>


<h2>Пишем первый пост</h2>

<p>Чтобы создать пост - просто набираем:</p>

<blockquote><p>rake new_post[&lsquo;Заголовок поста&rsquo;]</p></blockquote>

<p>Посты расположены в папке source/_posts/. Пишутся они на языке Markdown - в принципе, даже не умеюший программировать человек разберется с ним легко: просто откройте <a href="https://github.com/adam-p/markdown-here/wiki/Markdown-Cheatsheet">Markdown Cheatsheet</a> и следуйте инструкциям. Интерес представляет, прежде всего, шапка генерируемого поста - она выглядит следующим образом:</p>

<blockquote><p>layout: post</p>

<p>title:  Заголовок вашего поста</p>

<p>date: 2015-06-29 20:29:04 +0300 # Дата создания поста</p>

<p>comments: true # Комментарии разрешены</p>

<p>categories: # Теги вашего поста. Если несколько - перечисляются так: [cat1, cat2, cat3]</p></blockquote>

<p>Для русскоязычных блогеров особенное внимание стоит обратить на имя сгенерированного фвйла. По умолчанию,краткий заголовок вашего поста, отображаемый в URL, генерируется из заголовка поста, и виден в названии файла после даты создания. Для постов на русском это очень неудобно: в адресной строке браузера будет что-то вида <em>zagolovok-vashego-pervogo-posta.html</em>. Соответственно, его стоит заменить на более читаемое - для этого достаточно переименовать файл.</p>

<p>Ещё стоит отметить, что отделить краткое описание поста (то, что отображается на главной странице) от основного текста можно тегом:</p>

<blockquote><p>&lt; !&ndash; mоrе &ndash;></p></blockquote>

<p>Когда пост написан - его всегда хочется посмотреть. Для этого набираем в консоли:</p>

<blockquote><p>rake preview</p></blockquote>

<p>Затем набираем в браузере <a href="http://localhost:4000">http://localhost:4000</a> или <a href="http://your-virtual-machine-ip:4000,">http://your-virtual-machine-ip:4000,</a> если вы работаете посредством виртуальной машины. Если вы работаете из-под виртуальной машины - потребуется пробросить порт, как правило, это можно сделать в настройках ВМ. Rake preview автоматически отслеживает все изменения в файлах, поэтому вы можете запустить его, писать пост и поглядывать на изменения.</p>

<h2>Настраиваем сам блог</h2>

<p>Octopress не был бы истинным хакерским блогом, если бы в нем не настраивалось все. Это достигается за счет использования Rakefile - когда вы запускаете rake preview, или rake generate, блог просто следует инструкциям из Rakefile, расположенного в корне. Базовые же настройки хранятся в _config.yml - в основном, там всё ясно из комментариев, самая интересная часть расположена вот здесь:</p>

<blockquote><p>root: /</p></blockquote>

<p>Да, мы можем настраивать вид ссылок в блоге. Что это значит? По умолчанию, все посты в блоге выглядят так: <a href="http://yourblog.com/2015/06/new-post.html.">http://yourblog.com/2015/06/new-post.html.</a> Вас это может не устраивать - тогда, необходимо поменять на устраивающие параметры. Например, в моем блоге все ссылки выглядят, как /posts/post-titie/, потому как они так выглядели в Anchor CMS, и я хотел, чтобы ссылки были совместимы. Нет проблем - прописываем в конфиг-файле:</p>

<blockquote><p>permalink: /posts/:title/</p></blockquote>

<p>Вторым интересным моментом является установка тем. Для Octopress их написано очень много - красивых, хороших и разных, лучшие опубликованы здесь: <a href="https://github.com/imathis/octopress/wiki/3rd-Party-Octopress-Themes">3rd Party Octopress Themes</a>. Большинство тем устанавливается следующим образом:</p>

<blockquote><p>git submodule add GIT_URL .themes/THEME_NAME</p>

<p>rake install[&lsquo;THEME_NAME&rsquo;]</p></blockquote>

<h2>Публикуем пост</h2>

<p>После того, как вы настроили блог, можно его сгенерировать:</p>

<blockquote><p>rake generate</p></blockquote>

<p>После генерации вы получите статические HTML, CSS и JS-файлы в папке public. Осталось его залить на хост - и ваш блог доступен всем. Однако, вот тут есть одна проблема, о которой стоит упомянуть: по умолчанию, Octopress поддерживает публикацию сайта через Git и Rsync. В России, да и не только, для загрузки контента на хост используется FTP. Публикация через FTP делается следующим образом:</p>

<ol>
<li>Скачиваем программу lftp следующим образом:</li>
</ol>


<blockquote><p>sudo apt-get install lftp (Linux)</p>

<p>brew install lftp (Mac OS X)</p></blockquote>

<ol>
<li>Открываем Rakefile, и вставляем следующий код:</li>
</ol>


<blockquote><p>ftp_user       = &ldquo;username&rdquo;</p>

<p>ftp_password   = &ldquo;password&rdquo;</p>

<p>ftp_server     = &ldquo;host&rdquo;</p>

<p>ftp_target     = &ldquo;/folder/&rdquo;</p>

<p>deploy_default = &ldquo;lftp&rdquo;</p></blockquote>

<p>Теперь мы можем загрузить ваш блог на сервер, набрав всего одну команду:</p>

<blockquote><p>rake deploy</p></blockquote>

<h2>А что дальше?</h2>

<p>Разумеется, перечисленными выше возможностями Octopress не ограничивается. Это очень мощная платформа - и уложить все её возможности в один пост немыслимо, поэтому здесь перечислены лишь самые основы. Остальное же можно найти по следующим ссылкам:</p>

<ul>
<li><a href="http://octopress.org/docs/">Octopress Docs</a> - основная документация по Octopress</li>
<li><a href="http://ajaxblog.ru/octopress/octopress-blogging-for-geeks/">Octopress: блоггинг для гиков</a> - про локализацию блога и плагины, расширяющие его возможности</li>
<li><a href="http://www.artemgolovin.com/2013/novyi-dizain-blogha/">Новый дизайн для блога</a> - ещё немного о преимуществах Octopress</li>
</ul>


<p>Удачи!</p>

<p>P.S Кстати, ещё одно преимущество Octopress - очень лёгкие страницы. Этот пост я писал в поезде, где телефон ловил только EDGE-интернет, и пока остальные страницы грузились минуту, мой блог грузился реактивно - за несколько секунд.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Как я перестал бояться и полюбил Elementary]]></title>
    <link href="http://squizduos.me/posts/elementary-os-review/"/>
    <updated>2015-04-29T12:35:52+03:00</updated>
    <id>http://squizduos.me/posts/elementary-os-review</id>
    <content type="html"><![CDATA[<p>Elementary OS - проект дистрибутива на базе Ubuntu, который с выхода первой версии окрестили &ldquo;очередным клоном макоси&rdquo;. При этом, уникальные фишки дистрибутива (которых было очень много, начиная от самописной DE, заканчивая целыми стайлгайдами для стороннего софта) доморощенные эксперты с линуксфорумов не замечали, поскольку, чаще всего, и не устанавливали дистрибутив. По этой причине Elementary осталась незаслуженно малоизвестной - и выход новой версии ожидала лишь небольшая группа поклонников.</p>

<p>Я ставил примерно год назад прошлую версию, Luna. Увы, багов в ней было слишком много, и я через три дня вынужден был переехать обратно на Arch. Впрочем, уже тогда Luna считалась устаревшей, и сообщество фанатов ждало новую версию дистрибутива - изначально названную Isis, потом переименованную во Freya из-за схожести прошлого названия с англоязычным наименованием ИГИЛ. Прошло почти два года, свет увидели две бета-версии и один скандал, связанный с тем, что <a href="http://www.reddit.com/r/elementaryos/comments/2vk5ba/elementary_os_devs_say_youre_cheating_if_you_dont/">разработчики назвали бесплатное скачивание дистрибутива читерством</a>. 11 апреля новая версия увидела свет - в этот же день я её поставил, увы, не заплатив ни доллара разработчикам. Прошло две с половиной недели - и я понял, что никуда отсюда уже не переберусь.</p>

<!-- more -->


<h2>Установка и первый запуск</h2>

<p>Скачать Elementary можно с <a href="http://elementary.io">официального сайта</a>. При этом, вас ожидает одна подлянка - если просто нажать кнопку &ldquo;Скачать&rdquo;, то разработчики предложат вам заплатить 25 долларов.</p>

<p><img src="/images/elementary/official-site.png" width="600" alt="" /></p>

<p>Обходится это достаточно просто: на главном сайте есть кнопка &ldquo;Другая сумма&rdquo;, где можно указать 0, и тогда дистрибутив скачается бесплатно. ISO весит примерно 900 мегабайт, спокойно записывается на любую флэшку (для пользователей Windows рекомендую <a href="http://www.linuxliveusb.com/">Linux Live USB Creator</a>). Установка один в один схожа с установкой Ubuntu 14.04 - если вы в первый раз ставите Linux, следуйте <a href="http://www.ubuntu.com/download/desktop/install-ubuntu-desktop">официальному гайду</a>.</p>

<p>Вот что мы увидим после установки и первой загрузки:</p>

<p><img src="/images/elementary/clean-desktop.png" width="600" alt="" /></p>

<p>Да, это действительно отдалённо напоминает Mac OS X. Хотя, мне внешний вид дистрибутива более напоминает Gnome 3 с доком внизу. Но стоит открыть любое окно, хотя бы файловый менеджер - как первое впечатление рассеивается: это и похоже на Mac OS X, и одновременно совсем не похоже.</p>

<p><img src="/images/elementary/file-manager.png" width="600" alt="" /></p>

<p>В первую очередь, выделяется отстутствие глобального меню. Как и вообще какого-либо меню. Разработчики Elementary придерживаются своей концепции внешнего вида приложений - она очень схожа с концепцией минимализма во всём. У файлового менеджера, например, настроек нет вообще, у музыкального плеера (как мы увидим позже) - лишь настройка папки с музыкой и интеграция с Last.FM.</p>

<p>При этом, нельзя сказать, чтобы стандартные приложения были нефункциональны - и в файловом менеджере, и в музыкальном плеере есть всё необходимое. Настройки же доступны в одном глобальном центре - почти всё, что входит в состав рабочего окружения, настраивается через Центр управления. Но при этом разнообразие доступных изменений удручает.</p>

<p><img src="/images/elementary/settings.png" width="600" alt="" /></p>

<p>Ситуацию немного исправляет Elementary Tweaks - дополнительная панель настроек, встраиваемая в уже существующую панель. В ней можно найти и настройки дока (кстати, он называется Plank), и настройки файлового менеджера. <a href="http://lmelinux.net/elementary-tweaks/">Метод установки</a>, правда, предполагает, что вы умеете работать с консолью - если не умеете, то придется довольствоваться тем, что за вас настроили разработчики. Благо, настроено всё очень красиво и удобно.</p>

<p><img src="/images/elementary/tweaks.png" width="600" alt="" /></p>

<p>Кстати, о консоли. Сразу после релиза обнаружилось, что в релизе пристутствует глюк с сменой раскладки клавиатуры по привычным нам сочетаниям - точнее, при попытке настроить своё сочетание <a href="http://elementary.today/forum/viewtopic.php?id=671">на свете умирал один лепрекон</a>. Глюк тянется ещё с беты, на момент написания статьи его должны были уже закрыть, но если нет - вот <a href="http://blog.elementary.today/post/115427577726/launchpad#notes">инструкция</a>, как его починить. Опять из консоли.</p>

<h2>Стандартные приложения</h2>

<p>Стоит отметить, что Elementary поставляется не только с собственной графической оболочкой Pantheon, но и с собственными приложениями. Причём, приложения написаны специально под Elementary - а приложения под Elementary пишутся не так, как привычные нам приложения под Linux, вроде Firefox или LibreOffice.</p>

<p>Для разработки приложений на Elementatry используется язык программирования Vala, фреймворк GTK+ 3 и собственная библиотека под названием Granite. Кроме того, приложение должно удовлетворять <a href="https://elementary.io/ru/docs/human-interface-guidelines/design-philosophy">рекомедациям разработчиков</a> - в результате, все приложения в Elementary довольно похожи и спроектированы с учётом одной философии. Для примера, рассмотрим e-mail клиент:</p>

<p><img src="/images/elementary/email-notifications.png" width="600" alt="" /></p>

<p>Как мы видим, интерфейс предельно прост и понятен. Слева папки почтового ящика, справа от папок - список писем в папке, ещё правее само письмо. Кнопки для управления - вверху, справа полоса поиска (её не видно за уведомлениями). Кстати, он очень сильно напоминает почтовый клиент в Mac OS X - но дьявол кроется в мелочах.</p>

<p><img src="http://www.yourdailymac.net/wp-content/uploads/2011/06/Mac-OS-X-Lion-Desktop-Mail-App.png" width="600" alt="" /></p>

<p>Стандартный клиент умеет работать только с IMAP-почтовыми ящиками. Из коробки доступна автоматическая настройка для GMail, Outlook и Yahoo. Но при этом, клиент работает идеально - за две с половиной недели ни единого вылета, ни единого глюка, даже ни единого случая, когда не было понятно, как сделать то или иное действие. Это дорогого стоит, стоит заметить - я не смог осилить почтовый клиент ни в KDE, ни в XFCE, ни хваленый Thunderbird, ни консольный mutt. А этот осилил и использую с удовольствием.</p>

<p>Если в почтовом клиенте можно было пожаловаться на недостаток функциональности (например, отсутствие поддержки POP3), то текстовый редактор в Elementary даже излишне функционален. Он умеет подсвечивать синтаксис, автоматически отправлять набранный текст по электронной почте и Bluetooth - ради примера, я писал в нём лабораторную работу по ОС, и текстовый редактор вполне справился со своей ролью. А ещё он умеет делить экран пополам - так что, при желании, его можно использовать как очень спартанскую IDE.</p>

<p><img src="/images/elementary/text-editor.png" width="600" alt="" /></p>

<p>В комплекте также идёт программа для просмотра документов в формате PDF и DJVU. Опять же, продвинутых настроек в ней нет, но с задачей открытия и просмотра файлов справляется на 100%.</p>

<p><img src="/images/elementary/pdf-viewer.png" width="600" alt="" /></p>

<p>Музыкальный плеер, идущий в комплекте, с первого взгляда кажется спартанским (ну или клоном iTunes). Есть библиотека, есть полоса воспроизведения, есть поддержка хоткеев, казалось бы, что ещё надо для счастья? Редактирование тегов и интеграция с Last.FM - и то, и другое, в плеере есть, хоть и запрятано в дебри настроек. Юникодные теги плеер переварил без проблем.</p>

<p><img src="/images/elementary/music-player.png" width="600" alt="" /></p>

<p>Осталось рассмотреть самое главное приложение для любого линукса - эмулятор терминала. Он довольно легковесен, поддерживает вкладки, глобальный поиск по содержимому. Однако, у него есть ещё одна &ldquo;фича&rdquo; - если вы вставляете команду, которая требует прав рута, то терминал вас об этом предупредит и заставит подтвердить, что вы действительно этого хотите. С одной стороны, это можно воспринимать, как защиту от <a href="lurkmore.to/rm_-rf">&ldquo;патча Бармина&rdquo;</a>, с другой - оно довольно сильно раздражает.</p>

<p><img src="/images/elementary/terminal.png" width="600" alt="" /></p>

<p>Видеоплеер ничем не выделяется, кроме довольно красивой &ldquo;фичи&rdquo; в виде живого превью фрагментов видео. Стандартная программа просмотра картинок умеет осуществлять базовые операции с изображениями - на этом её ценность для пользователя заканчивается.</p>

<p><img src="/images/elementary/video-player.png" width="600" alt="" /></p>

<p><img src="/images/elementary/image-viewer.png" width="600" alt="" /></p>

<p>Ах да, ещё переключение рабочих столов (оно производится по клику мыши в терминале или хоткею Ctrl+1,2) выглядит очень красиво.</p>

<p><img src="/images/elementary/workspace-switch.png" width="600" alt="" /></p>

<h2>Дистриубтив в работе</h2>

<p>Красивости красивостями, но основное, что волновало меня - насколько дистрибутив пригоден к реальной работе? У Luna с этим были серьёзные проблемы - устаревшие версии библиотек и программ удовольствия никогда не доставляют.</p>

<p>К счастью, с этим проблем не возникает никогда. На дистрибутив ставятся любые программы, которые существуют для Ubuntu 14.04, включая полноценный Google Chrome, Google Web Designer, текстовый редактор Atom, компиляторы, видеоплееры, XChat - я не нашёл ни одной программы, с которой бы возникли проблемы. Wine ставится, как отдельно, так и в составе пакета PlayOnLinux.</p>

<p>Что же касается скорости работы дистрибутива, то тут всё зависит от возможностей вашей рабочей машины. На моём ноутбуке тормозов не было замечено вообще - но это было бы очень странно, если на ноутбке с SSD, Core i5 и 8 гигабайтами оперативной памяти вдруг возникли проблемы с работой интерфейса операционной системы. Пользователи более слабых компьютеров жаловались на лёгкие тормоза. В целом, для комфортной работы нужно 2 гигабайта оперативной памяти и 64-битный процессор архитектуры Sandy Bridge или выше.</p>

<p>Хоткеи, энергосбережение и прочие ноутбучные плюшки работают из коробки без каких-либо проблем.</p>

<h2>Итог</h2>

<p>Новая версия Elementary OS получилась действительно великолепной. Я планировал её тестировать три недели, а после восстановить из бэкапа старый Arch - но теперь передумал и стер бэкап с Арчем. Слишком быстро развивается привыкание к просто работающей ОС, где всё сделано с упором на то, что этим будут пользоваться люди, от экрана логина, до плеера. Я бы порекомендовал Elementary вместо Ubuntu, если вам не нужен самый свежий софт - Ubuntu 14.04 LTS и основанные на ней дистрибутивы будут поддерживаться аж до 2017 года, так что волноваться насчёт скорого обновления не стоит.</p>
]]></content>
  </entry>
  
  <entry>
    <title type="html"><![CDATA[Почти история успеха: как поставить Арч и всё потерять]]></title>
    <link href="http://squizduos.me/posts/arch-ultra-fail/"/>
    <updated>2014-10-31T12:40:23+03:00</updated>
    <id>http://squizduos.me/posts/arch-ultra-fail</id>
    <content type="html"><![CDATA[<p>Вообще, историю моих скитаний по линукс-дистрибутивам можно рассказывать долго, но я расскажу свежую и относительно весёлую: как я на Арч мигрировал.</p>

<!-- more -->


<h3>1. Как я всё потерял</h3>

<p>Изначальной предпосылкой было то, что меня достал Crunchbang. Этот дистрибутив на базе Debian с Openbox на борту хорош всем, на самом деле, кроме одного: он построен на Debian Stable. Stable недаром зовётся стабильным - весь софт в нём не просто старый, а ОЧЕНЬ старый, и обновляться на актуальные версии не спешит. Как следствие, ни свежий MySQL Workbench поставить не получится, ни Steam, даже Iron Browser, собранный с свежим glibc, не запустится. В итоге я решил переехать на Debian Testing, заменил репозитории и обновился. Crunchbang развалился.</p>

<p>Точнее, развалилась их фирменная тема wardolf, поставляемая с дистрибутивом - да и многие GNOME-утилиты, поставляемые с дистрибутивом, стали выглядеть в стиле этого самого GNOME 3, что не очень приятно. В итоге, я поставил KDE, настроил его и успокоился - теперь это уже был не Crunchbang, а Debian Testing, и почти всё работало. Но дьявол - он в мелочах. Стандартные настройки Crunchbang явно конфликтовали с настройками Testing, в итоге, я получал очень весёлые глюки. Прошёл месяц, и это меня достало, я решил снова переустанавливать систему.</p>

<p>Выбор у меня был из двух <del>стульев</del> вариантов - либо ставить Debian Testing с нуля, либо поставить какой-то другой дистрибутив. Тут уже я вспомнил про Arch - невероятно удобный компактный линукс, у которого ещё и пакетный менеджер реактивный, и AUR (огромный репозиторий с сторонним софтом) присутствует, причём часто в нём есть софт, который нельзя найти ни в одном дистрибутиве (например, шрифты от Microsoft). Таким образом, решение было принято - ставим Арч. Вот тут и началось.</p>

<p>У меня в ноутбуке стоит два жёстких диска: стандартный SSD на 120 гигабайт с системой и софтом, и HDD на 500 гигабайт с фильмами, музыкой и данными. Первый обозначен в системе как /dev/sda, второй как /dev/sdb, флешка, на которую я записывал установочный образ Арча - /dev/sdd. Я перенёс все данные на второй жёсткий диск, скачал образ archlinux-2014.10.01.iso и набрал в консоли:</p>

<pre><code>dd if=archlinux-2014.10.01.iso of=/dev/sd**b**
</code></pre>

<p>Да, в этом была моя огромная ошибка, я по привычке набрал /dev/sdb (до покупки SSD там всегда была флешка), в итоге, я сломал файловую систему. Полностью. Исправлять было уже поздно, я кинулся за внешним HDD и начал копировать на него всё содержимое перезатёртого диска (оно, несмотря на зверскую экзекуцию, всё ещё читалось). Успел скопировать IT-книги и фильмы - потом до ОС дошло, что я только что натворил, и раздел перестал читаться.</p>

<p>Следующие 14 часов я всеми мыслимыми усилиями восстанавливал содержимое жёсткого диска. В ход пошёл R-Studio, R-Linux, ext4undelete, testdisk и прочие утилиты для восстановления данных - но восстановить ими почти ничего не удалось, файловая система была безнадёжно испорчена. Особенно жалко фотографии - у меня не осталось их резервной копии. Но отступать было уже поздно, и я со второй попытки я записал установочный образ Arch Linux на флэшку.</p>

<h3>2. Как я установил Arch</h3>

<p>С начала установки прошло уже 24 часа (начинал я ставить вечером среды, а к установке приступил в четверг вечером), и мелкий облом не заставил себя ждать - образ с арчем, который сейчас лежит на archlinux.org, не работает. Причина, если кратко - внутренний раздел с RootFS обозван ARCH_201410, как и сам диск, в итоге, система не может понять, какой из двух разделов ей монтировать и отказывается грузиться. Если надумаете ставить Арч - грузите лучше образ от 2014.09.03, он работает, а разницы в процессе установки нет.</p>

<p><img src="https://pbs.twimg.com/media/B1NTkJgIAAEmkzm.jpg:large" width="600" alt="" /></p>

<p>Далее установка проходит согласно <a href="https://wiki.archlinux.org/index.php/Installation_guide">этой</a> инструкции без особых проблем, и базовая система у вас уже стоит. Однако, я тут наткнулся на второй косяк - поскольку я хотел сразу систему с KDE, то я поставил полный пакет kde, но этот пакет не потянул за собой xorg-server! Как kde будет работать без xorg - вопрос актуальный. У меня не заработал - после загрузки установленной ОС остался наедине с чёрной консолью и даже без возможности доустановить пакеты (кстати, тут косяк №3 - если у вас Wi-Fi, обязательно поставьте пакет dialog при установке системы, иначе стандартный wifi-menu не заработает, а при отсутствующем NetworkManager или wicd - это единственная возможность поднять Wi-Fi из консоли.</p>

<p>После доустановки xorg-server и NetworkManager (кстати, не забудьте поставить их в автозагрузку - для этого надо набрать <em>systemctl enable kdm</em> и <em>systemctl enable NetworkManager</em>), жизнь становится куда веселее. Но не в моём случае - после установки я захотел скопировать спасённые данные обратно на жёсткий диск. Копирование прошло без проблем, но я решил заодно монтировать этот диск при загрузке и прописал его в fstab. Да, тот самый раздел, на котором 14 часов искались файлы. В итоге, при загрузке система начала проверять диск на ошибки, а я прошёл весёлый квест, заключающийся в бесперерывном нажатии кнопки Enter. Три часа подряд. В конце, я не выдержал и поставил отвёртку на клавишу - дело пошло куда веселее</p>

<p><img src="https://pbs.twimg.com/media/B1OevLdCAAAqkxN.jpg" width="600" alt="" /></p>

<p>Ещё через два часа проверка закончилась, и вот я пишу уже из Арча.</p>

<p>Какая мораль у этой истории? Их целых три: не меняйте ОС без особой нужды, делайте резервные копии важных файлов, читайте документацию перед установкой незнакомой ОС. Тогда вам не придётся сидеть над установкой 36 часов, как мне.</p>
]]></content>
  </entry>
  
</feed>
